<!--
  The app component is the root component of the application. It contains the header and the router outlet.
  
  @author Manny Kwaning
  @author Carl Zhao
  @author James Nicholson
  @author Kartik Srikumar
  @author Veronika Post
-->

<div class="container">
  <div class="row mt-2 mb-2">
    <div class="col-12">
      <h1>
        <u>Upload Mupltiple PDF Files for Exctraction</u>
      </h1>
      <ul class="mt-2">
        <li>Select Multiple Files.</li>
        <li>Click on the Upload Button.</li>
        <li>Wait for the files to be processed, and see the upload progess</li>
        <li>You will be noditified when Exctraction is complete</li>
      </ul>
    </div>
  </div>
  <div class="row p-2">
    <div class="col-4">
      <input type="file" class="form-control" id="formFileMultiple" multiple (change)="addFiles($event)" />
    </div>
  </div>
  <div class="col-8">
    <ng-container *ngIf="filesToUploadList">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">File Name</th>
            <th scope="col">Upload Status</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of filesToUploadList">
            <td>{{item.file.name}}</td>
            <td>
          <tr>
            <td>Upload Progress&nbsp;
              <h3>{{item.uploadStatus.progressCount}}</h3>
            </td>
            <td>
              <h4 class="text-danger">{{item.uploadStatus.errorMessage}}</h4>
            </td>
          </tr>
          </td>
          </tr>
        </tbody>
        <tfoot>
          <tr>
            <td colspan="2">
              <button type="button" class="btn btn-primary" (click)="uploadFiles()">Upload Files</button>
            </td>
          </tr>
        </tfoot>
      </table>
    </ng-container>
  </div>
</div>
<router-outlet></router-outlet>